# Generated by Django 5.0.1 on 2024-01-31 15:59

import django.contrib.auth.models
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='AccountBalances',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('db_date', models.DateField(blank=True)),
                ('audit', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='audited amount')),
                ('delta', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='relative change for the day')),
                ('balance', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='balance for the day')),
            ],
            options={
                'db_table': 'budgetdb_accounttotal',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='CatSums',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.IntegerField(blank=True, verbose_name='month')),
                ('total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='balance for the day')),
            ],
            options={
                'db_table': 'budgetdb_cattotals',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='UserPermissions',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Currency',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('name_short', models.CharField(max_length=10)),
                ('symbol', models.CharField(max_length=5)),
                ('priority', models.IntegerField(blank=True, verbose_name='priority')),
            ],
            options={
                'verbose_name': 'Currency',
                'verbose_name_plural': 'Currencies',
                'ordering': ['priority', 'name'],
            },
        ),
        migrations.CreateModel(
            name='MyCalendar',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('db_date', models.DateField(verbose_name='date')),
                ('year', models.IntegerField(verbose_name='year')),
                ('month', models.IntegerField(verbose_name='month')),
                ('day', models.IntegerField(verbose_name='year')),
                ('quarter', models.IntegerField(verbose_name='quarter')),
                ('week', models.IntegerField(verbose_name='week')),
                ('day_name', models.CharField(max_length=9, verbose_name='Day name EN')),
                ('month_name', models.CharField(max_length=9, verbose_name='Month Name EN')),
                ('holiday_flag', models.BooleanField(default=False, verbose_name='Holiday Flag')),
                ('weekend_flag', models.BooleanField(default=False, verbose_name='Weekend Flag')),
                ('event', models.CharField(max_length=50, verbose_name='Event name')),
            ],
            options={
                'verbose_name': 'Calendar',
                'verbose_name_plural': 'Calendars',
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('email', models.EmailField(max_length=254, unique=True, verbose_name='email address')),
                ('email_verified', models.BooleanField(default=False, verbose_name='Email Verified')),
                ('friends', models.ManyToManyField(related_name='friends_users', to=settings.AUTH_USER_MODEL)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'user',
                'verbose_name_plural': 'users',
                'abstract': False,
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='Account',
            fields=[
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='account_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('date_open', models.DateField(blank=True, null=True, verbose_name='date opened')),
                ('date_closed', models.DateField(blank=True, null=True, verbose_name='date closed')),
                ('name', models.CharField(max_length=200)),
                ('account_number', models.CharField(blank=True, max_length=200)),
                ('comment', models.CharField(blank=True, max_length=200, null=True, verbose_name='Comment')),
                ('TFSA', models.BooleanField(default=False, verbose_name='Account is a TFSA for canadian fiscal considerations')),
                ('RRSP', models.BooleanField(default=False, verbose_name='Account is a RRSP for canadian fiscal considerations')),
                ('account_parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='account_children', to='budgetdb.account')),
                ('currency', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='budgetdb.currency')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Account',
                'verbose_name_plural': 'Accounts',
                'ordering': ['account_host__name', 'name'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.CreateModel(
            name='Cat1',
            fields=[
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='cat1_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('date_open', models.DateField(blank=True, null=True, verbose_name='date opened')),
                ('date_closed', models.DateField(blank=True, null=True, verbose_name='date closed')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Category',
                'verbose_name_plural': 'Categories',
                'ordering': ['name'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.CreateModel(
            name='Cat2',
            fields=[
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='cat2_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('fuel', models.BooleanField(default=False, verbose_name='Is this fuel?  Do we keep quantity and cost per for this subcategory')),
                ('cat1', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='budgetdb.cat1')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Sub-Category',
                'verbose_name_plural': 'Sub-Categories',
                'ordering': ['name'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.CreateModel(
            name='Statement',
            fields=[
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='statement_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('balance', models.DecimalField(decimal_places=2, default=Decimal('0.0000'), max_digits=10, verbose_name='Statement balance')),
                ('minimum_payment', models.DecimalField(decimal_places=2, default=Decimal('0.0000'), max_digits=10, verbose_name='Minimum Payment')),
                ('statement_date', models.DateField(verbose_name='date of the statement')),
                ('statement_due_date', models.DateField(blank=True, null=True, verbose_name='date where payment is due')),
                ('comment', models.CharField(blank=True, max_length=200, null=True)),
            ],
            options={
                'verbose_name': 'Statement',
                'verbose_name_plural': 'Statements',
                'ordering': ['-statement_date'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='userpermissions',
            name='owner',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='object_owner_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='userpermissions',
            name='users_admin',
            field=models.ManyToManyField(blank=True, related_name='users_full_access_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='userpermissions',
            name='users_view',
            field=models.ManyToManyField(blank=True, related_name='users_view_access_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='Invitation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('email', models.EmailField(max_length=254)),
                ('accepted', models.BooleanField(default=False)),
                ('rejected', models.BooleanField(default=False)),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('owner', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='object_owner_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Invitation',
                'verbose_name_plural': 'Invitations',
                'ordering': ['email'],
            },
        ),
        migrations.CreateModel(
            name='Preference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_interval', models.DateField(blank=True)),
                ('end_interval', models.DateField(blank=True)),
                ('max_interval_slider', models.DateField(blank=True, null=True)),
                ('min_interval_slider', models.DateField(blank=True, null=True)),
                ('currencies', models.ManyToManyField(related_name='currencies', to='budgetdb.currency')),
                ('currency_prefered', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='currency_prefered', to='budgetdb.currency')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
                ('favorite_accounts', models.ManyToManyField(blank=True, related_name='favorites', to='budgetdb.account')),
            ],
        ),
        migrations.CreateModel(
            name='AccountCategory',
            fields=[
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='accountcategory_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('accounts', models.ManyToManyField(related_name='account_categories', to='budgetdb.account')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Account Category',
                'verbose_name_plural': 'Account Categories',
                'ordering': ['name'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.CreateModel(
            name='AccountHost',
            fields=[
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='accounthost_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Financial Institution',
                'verbose_name_plural': 'Financial Institutions',
                'ordering': ['name'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='account',
            name='account_host',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='budgetdb.accounthost'),
        ),
        migrations.CreateModel(
            name='BudgetedEvent',
            fields=[
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('amount_planned', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='planned amount')),
                ('amount_planned_foreign_currency', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='original amount')),
                ('description', models.CharField(max_length=200, verbose_name='Description')),
                ('comment', models.CharField(blank=True, max_length=200, null=True, verbose_name='Comment')),
                ('ismanual', models.BooleanField(default=False, verbose_name='Manual Intervention?')),
                ('budget_only', models.BooleanField(default=False, verbose_name='Budget only, counts as 0 after today')),
                ('joined_order', models.IntegerField(blank=True, null=True, verbose_name='position in a joined transaction')),
                ('repeat_start', models.DateField(verbose_name='date of the first event')),
                ('repeat_stop', models.DateField(blank=True, null=True, verbose_name='date of the last event, optional')),
                ('nb_iteration', models.IntegerField(blank=True, null=True, verbose_name='number of repetitions, null if N/A')),
                ('repeat_interval_days', models.IntegerField(default=0, verbose_name='period in days, 0 if N/A')),
                ('repeat_interval_years', models.IntegerField(default=0, verbose_name='period in years, 0 if N/A')),
                ('repeat_interval_months', models.IntegerField(default=0, verbose_name='period in months, 0 if N/A')),
                ('repeat_interval_weeks', models.IntegerField(default=0, verbose_name='period in weeks, 0 if N/A')),
                ('repeat_months_mask', models.IntegerField(default=4095, verbose_name='binary mask of applicable months. Always Applicable jan=1 feb=2 mar=4 ... dec=2048 ALL=4095')),
                ('repeat_dayofmonth_mask', models.IntegerField(default=2147483647, verbose_name='binary mask of applicable month days. Always Applicable ALL=2147483647')),
                ('repeat_weekofmonth_mask', models.IntegerField(default=63, verbose_name='binary mask of applicable month week. Always Applicable ALL=31')),
                ('repeat_weekday_mask', models.IntegerField(default=127, verbose_name='binary mask of applicable week day. Always Applicable ALL=127')),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='budgetedevent_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('generated_interval_start', models.DateTimeField(blank=True, null=True, verbose_name='begining of the generated events interval')),
                ('generated_interval_stop', models.DateTimeField(blank=True, null=True, verbose_name='end of the generated events interval')),
                ('percent_planned', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='percent of another event.  say 10% of pay goes to RRSP')),
                ('isrecurring', models.BooleanField(default=True, verbose_name='Is this a recurring event?')),
                ('account_destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_account_destination', to='budgetdb.account')),
                ('account_source', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_account_source', to='budgetdb.account')),
                ('budgetedevent_percent_ref', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.budgetedevent')),
                ('currency', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='budgetdb.currency')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('cat1', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_category', to='budgetdb.cat1', verbose_name='Category')),
                ('cat2', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_subcategory', to='budgetdb.cat2', verbose_name='Sub-Category')),
            ],
            options={
                'verbose_name': 'Budgeted Event',
                'verbose_name_plural': 'Budgeted Events',
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.CreateModel(
            name='Transaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('amount_planned', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='planned amount')),
                ('amount_planned_foreign_currency', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='original amount')),
                ('description', models.CharField(max_length=200, verbose_name='Description')),
                ('comment', models.CharField(blank=True, max_length=200, null=True, verbose_name='Comment')),
                ('ismanual', models.BooleanField(default=False, verbose_name='Manual Intervention?')),
                ('budget_only', models.BooleanField(default=False, verbose_name='Budget only, counts as 0 after today')),
                ('joined_order', models.IntegerField(blank=True, null=True, verbose_name='position in a joined transaction')),
                ('date_planned', models.DateField(blank=True, null=True, verbose_name='planned date')),
                ('date_actual', models.DateField(verbose_name='date of the transaction')),
                ('amount_actual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10, verbose_name='Amount')),
                ('amount_actual_foreign_currency', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10, verbose_name='original amount')),
                ('Fuel_L', models.DecimalField(blank=True, decimal_places=3, max_digits=7, null=True, verbose_name='Fuel quantity')),
                ('Fuel_price', models.DecimalField(blank=True, decimal_places=3, max_digits=5, null=True, verbose_name='Fuel cost per')),
                ('Unit_QTY', models.DecimalField(blank=True, decimal_places=4, max_digits=9, null=True, verbose_name='Number of units')),
                ('Unit_price', models.DecimalField(blank=True, decimal_places=4, max_digits=9, null=True, verbose_name='Price per unit')),
                ('verified', models.BooleanField(default=False, verbose_name='Verified in a statement')),
                ('audit', models.BooleanField(default=False, verbose_name='Audit')),
                ('receipt', models.BooleanField(default=False, verbose_name='Checked with receipt')),
                ('currency', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='budgetdb.currency')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('account_destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_account_destination', to='budgetdb.account')),
                ('account_source', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_account_source', to='budgetdb.account')),
                ('budgetedevent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.budgetedevent')),
                ('cat1', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_category', to='budgetdb.cat1', verbose_name='Category')),
                ('cat2', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_subcategory', to='budgetdb.cat2', verbose_name='Sub-Category')),
                ('statement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.statement')),
            ],
            options={
                'verbose_name': 'Transaction',
                'verbose_name_plural': 'Transactions',
            },
        ),
        migrations.CreateModel(
            name='CatBudget',
            fields=[
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='catbudget_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('amount_frequency', models.CharField(choices=[('D', 'Daily'), ('W', 'Weekly'), ('M', 'Monthly'), ('Y', 'Yearly')], default='D', max_length=1)),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Category Budget',
                'verbose_name_plural': 'Categories Budgets',
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='cat2',
            name='catbudget',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.catbudget'),
        ),
        migrations.AddField(
            model_name='cat1',
            name='catbudget',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.catbudget'),
        ),
        migrations.CreateModel(
            name='CatType',
            fields=[
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='cattype_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('date_open', models.DateField(blank=True, null=True, verbose_name='date opened')),
                ('date_closed', models.DateField(blank=True, null=True, verbose_name='date closed')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Category Type',
                'verbose_name_plural': 'Categories Type',
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='cat2',
            name='cattype',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='budgetdb.cattype'),
        ),
        migrations.AddField(
            model_name='cat1',
            name='cattype',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='budgetdb.cattype'),
        ),
        migrations.CreateModel(
            name='JoinedTransactions',
            fields=[
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='joinedtransactions_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('comment', models.CharField(blank=True, max_length=200, null=True)),
                ('isrecurring', models.BooleanField(default=True, verbose_name='Is this a recurring event?')),
                ('budgetedevents', models.ManyToManyField(related_name='budgeted_events', to='budgetdb.budgetedevent')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('transactions', models.ManyToManyField(related_name='transactions', to='budgetdb.transaction')),
            ],
            options={
                'verbose_name': 'Joined Transactions',
                'verbose_name_plural': 'Joined Transactions',
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='statement',
            name='account',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='statement_account', to='budgetdb.account'),
        ),
        migrations.AddField(
            model_name='statement',
            name='deleted_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='statement',
            name='payment_transaction',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='payment_transaction', to='budgetdb.transaction'),
        ),
        migrations.CreateModel(
            name='Vendor',
            fields=[
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='vendor_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('name', models.CharField(max_length=200)),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Vendor',
                'verbose_name_plural': 'Vendors',
                'ordering': ['name'],
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='transaction',
            name='vendor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.vendor'),
        ),
        migrations.CreateModel(
            name='Template',
            fields=[
                ('created_date', models.DateTimeField(auto_now_add=True)),
                ('modified_date', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(null=True)),
                ('amount_planned', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='planned amount')),
                ('amount_planned_foreign_currency', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='original amount')),
                ('description', models.CharField(max_length=200, verbose_name='Description')),
                ('comment', models.CharField(blank=True, max_length=200, null=True, verbose_name='Comment')),
                ('ismanual', models.BooleanField(default=False, verbose_name='Manual Intervention?')),
                ('budget_only', models.BooleanField(default=False, verbose_name='Budget only, counts as 0 after today')),
                ('joined_order', models.IntegerField(blank=True, null=True, verbose_name='position in a joined transaction')),
                ('user_permissions', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, related_name='template_permissions_child', serialize=False, to='budgetdb.userpermissions')),
                ('account_destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_account_destination', to='budgetdb.account')),
                ('account_source', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_account_source', to='budgetdb.account')),
                ('cat1', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_category', to='budgetdb.cat1', verbose_name='Category')),
                ('cat2', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(class)s_subcategory', to='budgetdb.cat2', verbose_name='Sub-Category')),
                ('currency', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='budgetdb.currency')),
                ('deleted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deleted_by_%(app_label)s_%(class)s', to=settings.AUTH_USER_MODEL)),
                ('vendor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.vendor')),
            ],
            options={
                'verbose_name': 'Template',
                'verbose_name_plural': 'Templates',
            },
            bases=('budgetdb.userpermissions', models.Model),
        ),
        migrations.AddField(
            model_name='budgetedevent',
            name='vendor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='budgetdb.vendor'),
        ),
    ]
